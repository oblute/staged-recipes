diff --git a/setup.py b/setup.py
index 3bd53ad..01a44e0 100644
--- a/setup.py
+++ b/setup.py
@@ -8,12 +8,6 @@ import torch
 from torch.utils.cpp_extension import BuildExtension
 from torch.utils.cpp_extension import CppExtension, CUDAExtension, CUDA_HOME
 
-WITH_CUDA = torch.cuda.is_available() and CUDA_HOME is not None
-if os.getenv('FORCE_CUDA', '0') == '1':
-    WITH_CUDA = True
-if os.getenv('FORCE_CPU', '0') == '1':
-    WITH_CUDA = False
-
 BUILD_DOCS = os.getenv('BUILD_DOCS', '0') == '1'
 
 WITH_METIS = False
@@ -31,19 +25,6 @@ def get_extensions():
     extra_compile_args = {'cxx': []}
     extra_link_args = []
 
-    if WITH_CUDA:
-        Extension = CUDAExtension
-        define_macros += [('WITH_CUDA', None)]
-        nvcc_flags = os.getenv('NVCC_FLAGS', '')
-        nvcc_flags = [] if nvcc_flags == '' else nvcc_flags.split(' ')
-        nvcc_flags += ['-arch=sm_35', '--expt-relaxed-constexpr']
-        extra_compile_args['nvcc'] = nvcc_flags
-
-        if sys.platform == 'win32':
-            extra_link_args += ['cusparse.lib']
-        else:
-            extra_link_args += ['-lcusparse', '-l', 'cusparse']
-
     extensions_dir = osp.join(osp.dirname(osp.abspath(__file__)), 'csrc')
     main_files = glob.glob(osp.join(extensions_dir, '*.cpp'))
     extensions = []
@@ -57,8 +38,6 @@ def get_extensions():
             sources += [path]
 
         path = osp.join(extensions_dir, 'cuda', f'{name}_cuda.cu')
-        if WITH_CUDA and osp.exists(path):
-            sources += [path]
 
         extension = Extension(
             'torch_sparse._' + name,
